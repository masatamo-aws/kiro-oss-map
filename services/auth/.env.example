# Kiro OSS Map v2.1.0 - 認証サービス 環境変数テンプレート
# 本番環境では必ず値を変更してください

# ============================================================================
# 基本設定
# ============================================================================
NODE_ENV=development
PORT=3001

# ============================================================================
# データベース設定 (PostgreSQL)
# ============================================================================
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=kiro_auth
DATABASE_USER=postgres
DATABASE_PASSWORD=password
DATABASE_SSL=false
DATABASE_POOL_SIZE=10

# ============================================================================
# Redis設定
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0
REDIS_KEY_PREFIX=auth:

# ============================================================================
# JWT設定 (本番環境では必ず変更)
# ============================================================================
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production-min-32-chars
JWT_ISSUER=kiro-auth-service
JWT_AUDIENCE=kiro-services
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# ============================================================================
# CORS設定
# ============================================================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,https://kiro-map.com,https://*.kiro-map.com

# ============================================================================
# メール設定 (SMTP)
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
EMAIL_FROM=noreply@kiro-map.com

# ============================================================================
# OAuth設定 (Google)
# ============================================================================
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:3001/auth/google/callback

# ============================================================================
# セキュリティ設定
# ============================================================================
BCRYPT_ROUNDS=12
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=30
PASSWORD_RESET_EXPIRY=60

# ============================================================================
# 監視設定
# ============================================================================
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PROMETHEUS_PATH=/metrics

JAEGER_ENABLED=false
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# ============================================================================
# ログ設定
# ============================================================================
LOG_LEVEL=info
LOG_FORMAT=json

# ============================================================================
# レート制限設定
# ============================================================================
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# ============================================================================
# 開発・デバッグ設定
# ============================================================================
DEBUG=kiro:auth:*
ENABLE_REQUEST_LOGGING=true
ENABLE_QUERY_LOGGING=false