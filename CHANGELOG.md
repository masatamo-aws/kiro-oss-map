# 変更履歴

Kiro OSS Mapプロジェクトの重要な変更はすべてこのファイルに記録されます。

フォーマットは[Keep a Changelog](https://keepachangelog.com/en/1.0.0/)に基づいており、
このプロジェクトは[セマンティックバージョニング](https://semver.org/spec/v2.0.0.html)に準拠しています。

## [1.0.1] - 2025-08-13

### 修正
- **検索結果ピン表示問題** - 検索結果のピンが地図上に表示されない問題を修正
  - `handleSearchSelect`内の`addMarker`関数呼び出しパラメータを修正
  - 検索結果用の適切なマーカークリア機能を追加
  - 詳細なポップアップデータを含む検索結果マーカーを強化
  - ルートアクションボタン付きの検索結果リストUIを改善

### 改善
- **検索結果リストUI** - ビジュアルデザインと機能性を向上
  - 検索結果用の琥珀色インジケータードットを追加
  - 直接ルート設定用の「出発」「到着」ボタンを実装
  - ホバー効果とレスポンシブデザインを強化
  - ルートボタンの適切なイベントハンドリングを追加

### 追加
- **拡張検索結果マーカー** - 包括的なマーカーシステムを実装
  - 検索結果用のカスタム黄色ドロップピンスタイル
  - 位置情報、画像、アクションボタンを含む詳細ポップアップ
  - WikipediaとUnsplashからの自動画像取得
  - マーカーポップアップから直接ルート設定機能
  - マーカーからの位置共有機能

## [1.0.0] - 2025-08-13

### 追加
- **コアマップアプリケーション** - ウェブベースマップアプリケーションの完全実装
  - インタラクティブマッピング用MapLibre GL JS統合
  - 複数スタイルオプション付きOpenStreetMapタイルレイヤー
  - モバイルファーストアプローチのレスポンシブデザイン
  - ダーク/ライトテーマサポート

- **検索機能** - 包括的な位置検索システム
  - ジオコーディング用Nominatim API統合
  - オートコンプリート付きリアルタイム検索候補
  - ローカルストレージ付き検索履歴
  - カテゴリベース結果フィルタリング
  - バウンディングボックスと国コードフィルタリング

- **ルート計画** - 高度なルーティング機能
  - ルート計算用OSRM API統合
  - 複数ルーティングプロファイル（運転、徒歩、自転車）
  - ターンバイターン案内付きインタラクティブルート表示
  - ドラッグアンドドロップ経由地変更
  - ルート共有とエクスポート機能

- **位置情報サービス** - ジオロケーションと測位機能
  - HTML5 Geolocation API統合
  - 現在地検出と表示
  - 位置精度インジケータ
  - 権限処理とエラー管理

- **画像統合** - 動的位置画像
  - ランドマーク用Wikipedia画像取得
  - カテゴリ別Unsplashフォールバック画像
  - 画像キャッシュシステム（1時間キャッシュ）
  - エラーハンドリング付きレスポンシブ画像読み込み

- **共有システム** - 位置とルート共有機能
  - 一意識別子付きURLベース共有
  - モバイル共有用QRコード生成
  - ソーシャルメディア統合
  - 埋め込みデータ付き共有可能ルートリンク

- **プログレッシブウェブアプリ（PWA）** - モダンウェブアプリ機能
  - サービスワーカー実装
  - オフライン機能
  - インストール用アプリマニフェスト
  - プッシュ通知サポート
  - バックグラウンド同期機能

- **コンポーネントアーキテクチャ** - モジュラーコンポーネントシステム
  - カスタムWebコンポーネント実装
  - 高度な機能付きSearchBoxコンポーネント
  - ルート管理用RoutePanelコンポーネント
  - 共有機能用ShareDialogコンポーネント
  - EventBus付きイベント駆動アーキテクチャ

- **サービス層** - 包括的サービスアーキテクチャ
  - マップ操作とマーカー管理用MapService
  - 位置検索とジオコーディング用SearchService
  - ルート計算と管理用RouteService
  - 位置追跡用GeolocationService
  - コンテンツ共有用ShareService
  - データ永続化用StorageService
  - UIテーマ管理用ThemeService
  - 動的画像読み込み用ImageService
  - プログレッシブウェブアプリ機能用PWAService

- **サーバーインフラ** - バックエンドAPIとサービス
  - RESTful API付きExpress.jsサーバー
  - ルート計算エンドポイント
  - ジオコーディングサービス統合
  - 共有URL管理
  - 静的ファイル配信
  - CORS設定

- **開発ツール** - モダン開発セットアップ
  - 高速開発用Viteビルドシステム
  - ホットモジュール置換（HMR）
  - ES6+モジュールサポート
  - CSS前処理
  - プロキシ付き開発サーバー

- **Dockerサポート** - デプロイメント用コンテナ化
  - マルチステージDockerビルド
  - Docker Compose設定
  - 本番対応コンテナセットアップ
  - 環境変数設定

### 技術実装

- **フロントエンドアーキテクチャ**
  - ES6+モジュール付きバニラJavaScript
  - 再利用可能UI用カスタムWebコンポーネント
  - 中央集権EventBus付きイベント駆動アーキテクチャ
  - Tailwindインスパイアユーティリティクラス付きレスポンシブCSS
  - モダンブラウザAPI（Geolocation、Service Workerなど）

- **バックエンドアーキテクチャ**
  - Express.jsフレームワーク付きNode.js
  - RESTful API設計
  - サービス指向アーキテクチャ
  - 外部API統合（OSRM、Nominatim）
  - エラーハンドリングとログ記録

- **データ管理**
  - ユーザー設定と履歴用ローカルストレージ
  - APIレスポンス用インメモリキャッシュ
  - 共有用URLベース状態管理
  - JSONベース設定

- **パフォーマンス最適化**
  - コンポーネントとサービスの遅延読み込み
  - 画像最適化とキャッシュ
  - APIレスポンスキャッシュ
  - デバウンス検索入力
  - 効率的マーカー管理

### ドキュメント

- **プロジェクトドキュメント**
  - セットアップ手順付き包括的README
  - 技術仕様書
  - システム設計とアーキテクチャドキュメント
  - APIドキュメント
  - コンポーネント使用ガイドライン

- **開発ドキュメント**
  - タスク分解と実装計画
  - 論理アーキテクチャ図
  - 要件仕様
  - 設計決定と根拠

### 初期プロジェクトセットアップ - 2025-08-13

- **プロジェクト初期化**
  - プロジェクト構造とディレクトリレイアウトの作成
  - 依存関係付きpackage.jsonのセットアップ
  - Viteビルドシステムの設定
  - .gitignore付きGitリポジトリの確立

- **要件分析**
  - マップアプリケーションの機能要件定義
  - 技術要件と制約の指定
  - ユーザーストーリーとユースケースの特定
  - パフォーマンスとアクセシビリティ目標の確立

- **システム設計**
  - 関心の分離付きモジュラーアーキテクチャの設計
  - コンポーネント階層と相互作用パターンの作成
  - サービス層アーキテクチャの定義
  - API統合戦略の計画

- **タスク計画**
  - 管理可能なタスクへの実装分解
  - 重要度と複雑さによる機能の優先順位付け
  - 開発タイムラインとマイルストーンの作成
  - テストと品質保証計画の確立